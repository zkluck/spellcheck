# OpenAI API 密钥 (必需) - 使用第三方 API
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI API Base URL (第三方 API)
OPENAI_BASE_URL=your_openai_base_url_here

# 文本分析超时时间（毫秒）
ANALYZE_TIMEOUT_MS=8000


# 前端公开配置（仅浏览器可读）
# 注意：这些值会在浏览器暴露，请勿填入敏感信息
NEXT_PUBLIC_MAX_RETRIES=3
NEXT_PUBLIC_SSE_IDLE_MS=20000
NEXT_PUBLIC_BASE_DELAY_MS=600
NEXT_PUBLIC_TOTAL_TIMEOUT_MS=60000
NEXT_PUBLIC_BACKOFF_MIN_MS=400
NEXT_PUBLIC_BACKOFF_MAX_MS=8000

# E2E 测试配置（本地/CI 使用；生产请勿开启）
E2E_ENABLE=0

# OpenAI API 配置
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TEMPERATURE=0.2
OPENAI_MAX_TOKENS=1024
OPENAI_TIMEOUT_MS=30000
OPENAI_MAX_RETRIES=2

# 轻量级模型配置（用于简单任务）
OPENAI_LIGHT_MODEL=gpt-3.5-turbo
OPENAI_LIGHT_TEMPERATURE=0.1
OPENAI_LIGHT_MAX_TOKENS=512
OPENAI_LIGHT_TIMEOUT_MS=15000
OPENAI_LIGHT_MAX_RETRIES=2

# 检测质量配置
DETECTION_SPELLING_THRESHOLD=0.85
DETECTION_GRAMMAR_THRESHOLD=0.75
DETECTION_PUNCTUATION_THRESHOLD=0.90
DETECTION_FLUENCY_THRESHOLD=0.65

# 规则引擎配置
RULE_ENGINE_ENABLED=true

# 多智能体工作流配置
# 仅支持 basic | reviewer；fluency 已并入 Basic 的子流程。
# 注意：该默认流水线可被 API 请求体中的 options.pipeline 临时覆盖。
WORKFLOW_PIPELINE=basic*1,reviewer*1

# BasicErrorAgent 配置
BASIC_MIN_CONFIDENCE=0.5
BASIC_MAX_OUTPUT=200
BASIC_REQUIRE_EXACT_INDEX=false
BASIC_ALLOW_LOCATE_FALLBACK=true

# Fluency（并入 Basic）配置 —— 保留兼容的环境变量名
FLUENT_MIN_CONFIDENCE=0.5
FLUENT_MAX_OUTPUT=200
FLUENT_REQUIRE_EXACT_INDEX=false
FLUENT_ALLOW_LOCATE_FALLBACK=true

# ReviewerAgent 配置
REVIEWER_MIN_CONFIDENCE=0.5
REVIEWER_MAX_OUTPUT=200
REVIEWER_REQUIRE_EXACT_INDEX=false